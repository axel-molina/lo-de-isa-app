import{r,g as de,m as ue,a as pe,c as $e,C as H,u as je,b as Oe,d as R,R as Pe,i as Ee,e as we,P as ze,f as Ne,T as ke,h as Ie,t as me,j as Re,k as Le,l as Me,n as _e,o as Ae,p as Be,s as He,_ as ee,q as Te,v as We,w as c,L as Ge,x as Fe,y as Ue,z as De,A as ne,B as fe,D as Ve,E as Xe,F as oe,I as qe,G as Je,H as U,J as Z,K as se,M as K,N as Q}from"./index-rScBKIl1.js";import{A as Ye,i as Ze}from"./index-5LO3xjnJ.js";import{u as Ke,E as ge,M as Qe}from"./Edit-B49IKQ_F.js";const et=r.createContext({}),te=et,tt=e=>{const{antCls:o,componentCls:n,iconCls:t,avatarBg:s,avatarColor:a,containerSize:l,containerSizeLG:i,containerSizeSM:d,textFontSize:m,textFontSizeLG:f,textFontSizeSM:g,borderRadius:u,borderRadiusLG:p,borderRadiusSM:x,lineWidth:P,lineType:z}=e,$=(b,C,E)=>({width:b,height:b,lineHeight:`${b-P*2}px`,borderRadius:"50%",[`&${n}-square`]:{borderRadius:E},[`${n}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${n}-icon`]:{fontSize:C,[`> ${t}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},pe(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:a,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:s,border:`${P}px ${z} transparent`,"&-image":{background:"transparent"},[`${o}-image-img`]:{display:"block"}}),$(l,m,u)),{"&-lg":Object.assign({},$(i,f,p)),"&-sm":Object.assign({},$(d,g,x)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},nt=e=>{const{componentCls:o,groupBorderColor:n,groupOverlapping:t,groupSpace:s}=e;return{[`${o}-group`]:{display:"inline-flex",[`${o}`]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:t}},[`${o}-group-popover`]:{[`${o} + ${o}`]:{marginInlineStart:s}}}},ve=de("Avatar",e=>{const{colorTextLightSolid:o,colorTextPlaceholder:n}=e,t=ue(e,{avatarBg:n,avatarColor:o});return[tt(t),nt(t)]},e=>{const{controlHeight:o,controlHeightLG:n,controlHeightSM:t,fontSize:s,fontSizeLG:a,fontSizeXL:l,fontSizeHeading3:i,marginXS:d,marginXXS:m,colorBorderBg:f}=e;return{containerSize:o,containerSizeLG:n,containerSizeSM:t,textFontSize:Math.round((a+l)/2),textFontSizeLG:i,textFontSizeSM:s,groupSpace:m,groupOverlapping:-d,groupBorderColor:f}});var ot=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)o.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(n[t[s]]=e[t[s]]);return n};const st=(e,o)=>{const[n,t]=r.useState(1),[s,a]=r.useState(!1),[l,i]=r.useState(!0),d=r.useRef(null),m=r.useRef(null),f=$e(o,d),{getPrefixCls:g,avatar:u}=r.useContext(H),p=r.useContext(te),x=()=>{if(!m.current||!d.current)return;const h=m.current.offsetWidth,v=d.current.offsetWidth;if(h!==0&&v!==0){const{gap:w=4}=e;w*2<v&&t(v-w*2<h?(v-w*2)/h:1)}};r.useEffect(()=>{a(!0)},[]),r.useEffect(()=>{i(!0),t(1)},[e.src]),r.useEffect(x,[e.gap]);const P=()=>{const{onError:h}=e;(h==null?void 0:h())!==!1&&i(!1)},{prefixCls:z,shape:$,size:b,src:C,srcSet:E,icon:S,className:N,rootClassName:T,alt:V,draggable:X,children:L,crossOrigin:W}=e,j=ot(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),y=je(h=>{var v,w;return(w=(v=b??(p==null?void 0:p.size))!==null&&v!==void 0?v:h)!==null&&w!==void 0?w:"default"}),q=Object.keys(typeof y=="object"?y||{}:{}).some(h=>["xs","sm","md","lg","xl","xxl"].includes(h)),G=Ke(q),F=r.useMemo(()=>{if(typeof y!="object")return{};const h=Oe.find(w=>G[w]),v=y[h];return v?{width:v,height:v,lineHeight:`${v}px`,fontSize:v&&(S||L)?v/2:18}:{}},[G,y]),O=g("avatar",z),[J,Y]=ve(O),M=R({[`${O}-lg`]:y==="large",[`${O}-sm`]:y==="small"}),k=r.isValidElement(C),_=$||(p==null?void 0:p.shape)||"circle",A=R(O,M,u==null?void 0:u.className,`${O}-${_}`,{[`${O}-image`]:k||C&&l,[`${O}-icon`]:!!S},N,T,Y),B=typeof y=="number"?{width:y,height:y,lineHeight:`${y}px`,fontSize:S?y/2:18}:{};let I;if(typeof C=="string"&&l)I=r.createElement("img",{src:C,draggable:X,srcSet:E,onError:P,alt:V,crossOrigin:W});else if(k)I=C;else if(S)I=S;else if(s||n!==1){const h=`scale(${n}) translateX(-50%)`,v={msTransform:h,WebkitTransform:h,transform:h},w=typeof y=="number"?{lineHeight:`${y}px`}:{};I=r.createElement(Pe,{onResize:x},r.createElement("span",{className:`${O}-string`,ref:m,style:Object.assign(Object.assign({},w),v)},L))}else I=r.createElement("span",{className:`${O}-string`,style:{opacity:0},ref:m},L);return delete j.onError,delete j.gap,J(r.createElement("span",Object.assign({},j,{style:Object.assign(Object.assign(Object.assign(Object.assign({},B),F),u==null?void 0:u.style),j.style),className:A,ref:f}),I))},rt=r.forwardRef(st),he=rt,D=e=>e?typeof e=="function"?e():e:null,at=e=>{const{componentCls:o,popoverColor:n,titleMinWidth:t,fontWeightStrong:s,popoverPadding:a,boxShadowSecondary:l,colorTextHeading:i,borderRadiusLG:d,zIndexPopup:m,marginXS:f,colorBgElevated:g,popoverBg:u}=e;return[{[o]:Object.assign(Object.assign({},pe(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:m,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":g,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${o}-content`]:{position:"relative"},[`${o}-inner`]:{backgroundColor:u,backgroundClip:"padding-box",borderRadius:d,boxShadow:l,padding:a},[`${o}-title`]:{minWidth:t,marginBottom:f,color:i,fontWeight:s},[`${o}-inner-content`]:{color:n}})},we(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${o}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${o}-content`]:{display:"inline-block"}}}]},it=e=>{const{componentCls:o}=e;return{[o]:ze.map(n=>{const t=e[`${n}6`];return{[`&${o}-${n}`]:{"--antd-arrow-background-color":t,[`${o}-inner`]:{backgroundColor:t},[`${o}-arrow`]:{background:"transparent"}}}})}},lt=e=>{const{componentCls:o,lineWidth:n,lineType:t,colorSplit:s,paddingSM:a,controlHeight:l,fontSize:i,lineHeight:d,padding:m}=e,f=l-Math.round(i*d),g=f/2,u=f/2-n,p=m;return{[o]:{[`${o}-inner`]:{padding:0},[`${o}-title`]:{margin:0,padding:`${g}px ${p}px ${u}px`,borderBottom:`${n}px ${t} ${s}`},[`${o}-inner-content`]:{padding:`${a}px ${p}px`}}}},xe=de("Popover",e=>{const{colorBgElevated:o,colorText:n,wireframe:t}=e,s=ue(e,{popoverPadding:12,popoverBg:o,popoverColor:n});return[at(s),it(s),t&&lt(s),Ee(s,"zoom-big")]},e=>({width:177,minWidth:177,titleMinWidth:177,zIndexPopup:e.zIndexPopupBase+30}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var ct=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)o.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(n[t[s]]=e[t[s]]);return n};const dt=(e,o,n)=>{if(!(!o&&!n))return r.createElement(r.Fragment,null,o&&r.createElement("div",{className:`${e}-title`},D(o)),r.createElement("div",{className:`${e}-inner-content`},D(n)))},ut=e=>{const{hashId:o,prefixCls:n,className:t,style:s,placement:a="top",title:l,content:i,children:d}=e;return r.createElement("div",{className:R(o,n,`${n}-pure`,`${n}-placement-${a}`,t),style:s},r.createElement("div",{className:`${n}-arrow`}),r.createElement(Ne,Object.assign({},e,{className:o,prefixCls:n}),d||dt(n,l,i)))},pt=e=>{const{prefixCls:o}=e,n=ct(e,["prefixCls"]),{getPrefixCls:t}=r.useContext(H),s=t("popover",o),[a,l]=xe(s);return a(r.createElement(ut,Object.assign({},n,{prefixCls:s,hashId:l})))},mt=pt;var ft=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)o.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(n[t[s]]=e[t[s]]);return n};const gt=e=>{let{title:o,content:n,prefixCls:t}=e;return r.createElement(r.Fragment,null,o&&r.createElement("div",{className:`${t}-title`},D(o)),r.createElement("div",{className:`${t}-inner-content`},D(n)))},ye=r.forwardRef((e,o)=>{const{prefixCls:n,title:t,content:s,overlayClassName:a,placement:l="top",trigger:i="hover",mouseEnterDelay:d=.1,mouseLeaveDelay:m=.1,overlayStyle:f={}}=e,g=ft(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:u}=r.useContext(H),p=u("popover",n),[x,P]=xe(p),z=u(),$=R(a,P);return x(r.createElement(ke,Object.assign({placement:l,trigger:i,mouseEnterDelay:d,mouseLeaveDelay:m,overlayStyle:f},g,{prefixCls:p,overlayClassName:$,ref:o,overlay:t||s?r.createElement(gt,{prefixCls:p,title:t,content:s}):null,transitionName:Ie(z,"zoom-big",g.transitionName),"data-popover-inject":!0})))});ye._InternalPanelDoNotUseOrYouWillBeFired=mt;const vt=ye,re=e=>{const{size:o,shape:n}=r.useContext(te),t=r.useMemo(()=>({size:e.size||o,shape:e.shape||n}),[e.size,e.shape,o,n]);return r.createElement(te.Provider,{value:t},e.children)},ht=e=>{const{getPrefixCls:o,direction:n}=r.useContext(H),{prefixCls:t,className:s,rootClassName:a,style:l,maxCount:i,maxStyle:d,size:m,shape:f,maxPopoverPlacement:g="top",maxPopoverTrigger:u="hover",children:p}=e,x=o("avatar",t),P=`${x}-group`,[z,$]=ve(x),b=R(P,{[`${P}-rtl`]:n==="rtl"},s,a,$),C=me(p).map((S,N)=>Re(S,{key:`avatar-key-${N}`})),E=C.length;if(i&&i<E){const S=C.slice(0,i),N=C.slice(i,E);return S.push(r.createElement(vt,{key:"avatar-popover-key",content:N,trigger:u,placement:g,overlayClassName:`${P}-popover`},r.createElement(he,{style:d},`+${E-i}`))),z(r.createElement(re,{shape:f,size:m},r.createElement("div",{className:b,style:l},S)))}return z(r.createElement(re,{shape:f,size:m},r.createElement("div",{className:b,style:l},C)))},xt=ht,Se=he;Se.Group=xt;const yt=Se;function ae(e){return["small","middle","large"].includes(e)}function ie(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const be=Le.createContext({latestIndex:0}),St=be.Provider,bt=e=>{let{className:o,index:n,children:t,split:s,style:a}=e;const{latestIndex:l}=r.useContext(be);return t==null?null:r.createElement(r.Fragment,null,r.createElement("div",{className:o,style:a},t),n<l&&s&&r.createElement("span",{className:`${o}-split`},s))},Ct=bt;var $t=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)o.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(n[t[s]]=e[t[s]]);return n};const jt=r.forwardRef((e,o)=>{var n,t;const{getPrefixCls:s,space:a,direction:l}=r.useContext(H),{size:i=(a==null?void 0:a.size)||"small",align:d,className:m,rootClassName:f,children:g,direction:u="horizontal",prefixCls:p,split:x,style:P,wrap:z=!1,classNames:$,styles:b}=e,C=$t(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[E,S]=Array.isArray(i)?i:[i,i],N=ae(S),T=ae(E),V=ie(S),X=ie(E),L=me(g,{keepEmpty:!0}),W=d===void 0&&u==="horizontal"?"center":d,j=s("space",p),[y,q]=_e(j),G=R(j,a==null?void 0:a.className,q,`${j}-${u}`,{[`${j}-rtl`]:l==="rtl",[`${j}-align-${W}`]:W,[`${j}-gap-row-${S}`]:N,[`${j}-gap-col-${E}`]:T},m,f),F=R(`${j}-item`,(n=$==null?void 0:$.item)!==null&&n!==void 0?n:(t=a==null?void 0:a.classNames)===null||t===void 0?void 0:t.item);let O=0;const J=L.map((k,_)=>{var A,B;k!=null&&(O=_);const I=k&&k.key||`${F}-${_}`;return r.createElement(Ct,{className:F,key:I,index:_,split:x,style:(A=b==null?void 0:b.item)!==null&&A!==void 0?A:(B=a==null?void 0:a.styles)===null||B===void 0?void 0:B.item},k)}),Y=r.useMemo(()=>({latestIndex:O}),[O]);if(L.length===0)return null;const M={};return z&&(M.flexWrap="wrap"),!T&&X&&(M.columnGap=E),!N&&V&&(M.rowGap=S),y(r.createElement("div",Object.assign({ref:o,className:G,style:Object.assign(Object.assign(Object.assign({},M),a==null?void 0:a.style),P)},C),r.createElement(St,{value:Y},J)))}),Ce=jt;Ce.Compact=Me;const le=Ce;function Ot(e){return Ae("MuiList",e)}Be("MuiList",["root","padding","dense","subheader"]);const Pt=["children","className","component","dense","disablePadding","subheader"],Et=e=>{const{classes:o,disablePadding:n,dense:t,subheader:s}=e;return Ue({root:["root",!n&&"padding",t&&"dense",s&&"subheader"]},Ot,o)},wt=He("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,!n.disablePadding&&o.padding,n.dense&&o.dense,n.subheader&&o.subheader]}})(({ownerState:e})=>ee({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),zt=r.forwardRef(function(o,n){const t=Te({props:o,name:"MuiList"}),{children:s,className:a,component:l="ul",dense:i=!1,disablePadding:d=!1,subheader:m}=t,f=We(t,Pt),g=r.useMemo(()=>({dense:i}),[i]),u=ee({},t,{component:l,dense:i,disablePadding:d}),p=Et(u);return c.jsx(Ge.Provider,{value:g,children:c.jsxs(wt,ee({as:l,className:Fe(p.root,a),ref:n,ownerState:u},f,{children:[m,s]}))})}),Nt=zt,kt=De(c.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"History");function ce(e,o,n,t){const s=r.useRef(o);Rt(()=>{s.current=o},[o]),r.useEffect(()=>{var a;const l=(a=n==null?void 0:n.current)!==null&&a!==void 0?a:window;if(!(l&&l.addEventListener))return;const i=d=>s.current(d);return l.addEventListener(e,i,t),()=>{l.removeEventListener(e,i,t)}},[e,n,t])}function It(e){const[o,n]=r.useState(!1),t=()=>n(!0),s=()=>n(!1);return ce("mouseenter",t,e),ce("mouseleave",s,e),o}const Rt=typeof window<"u"?r.useLayoutEffect:r.useEffect,Lt=ne.div`
  position: relative;
  cursor: pointer;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 64px;
  height: 64px;
`,Mt=ne(ge)`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: rgba(0, 0, 0, 0.5);
  border-radius: 50%;
  padding: 19px;
  color: white;
`,_t=ne.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,At=()=>{const[e,o]=r.useState(!1),n=fe(l=>l.userData._id),t=localStorage.getItem("token"),s=`Bearer ${t==null?void 0:t.slice(1,-1)}`;return{editAvatar:async l=>{o(!0);try{const i=await fetch(`${Ve+Xe.USER}/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify(l)});if(!i.ok){oe.error("Error al editar el avatar"),o(!1);return}i.status===200&&oe.success("Avatar editado con éxito"),o(!1)}catch{o(!1)}},isLoading:e}},Bt=()=>{var p;const e=r.useRef(null),o=It(e),n=fe(x=>x.userData),t="https://affinitaslegal.com/wp-content/uploads/2020/08/imagen-perfil-sin-foto.jpg",s=(p=n==null?void 0:n.bank)==null?void 0:p.toFixed(2).replace(".",","),{editAvatar:a}=At(),[l,i]=r.useState(!1),[d,m]=r.useState(""),f=()=>{i(!0)},g=async()=>{await a({avatar:d}),i(!1)},u=()=>{i(!1)};return c.jsxs("div",{style:{margin:"0 10px"},children:[c.jsx(le,{direction:"vertical",size:16,children:c.jsxs(le,{wrap:!0,size:16,children:[c.jsxs(Lt,{ref:e,onClick:f,children:[c.jsx(yt,{size:64,src:n.avatar===""||n.avatar===null||n.avatar===void 0?t:n==null?void 0:n.avatar}),o&&c.jsx(Mt,{})]}),c.jsxs(_t,{children:[c.jsxs("span",{children:[c.jsx("b",{children:"Bienvenido!"})," ",n.name," ",n.lastName]}),c.jsxs("span",{children:[c.jsx("b",{children:"Total:"})," $",s]})]})]})}),c.jsx(Qe,{title:"Pega la url de tu avatar",open:l,onOk:g,onCancel:u,children:c.jsx(qe,{placeholder:"Url",onChange:x=>m(x.target.value)})})]})},Ht=()=>{const e=Je(),o=n=>{e(n)};return c.jsxs(Nt,{sx:{marginTop:"30px"},children:[c.jsx(U,{}),c.jsxs(Z,{onClick:()=>o(se.venta),children:[c.jsx(K,{children:c.jsx(Ye,{})}),c.jsx(Q,{primary:"Crear orden de venta"})]}),c.jsx(U,{}),c.jsxs(Z,{onClick:()=>o(se.editStock),children:[c.jsx(K,{children:c.jsx(ge,{})}),c.jsx(Q,{primary:"Editar stock"})]}),c.jsx(U,{}),c.jsxs(Z,{children:[c.jsx(K,{children:c.jsx(kt,{})}),c.jsx(Q,{primary:"Historial de ventas"})]}),c.jsx(U,{})]})},Ft=()=>c.jsxs("div",{children:[c.jsx(Ze,{}),c.jsx(Bt,{}),c.jsx(Ht,{})]});export{Ft as default};
